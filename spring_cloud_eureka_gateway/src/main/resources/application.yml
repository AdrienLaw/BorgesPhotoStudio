#server:
#  port: 8888
#spring:
#  application:
#    name: cloud-gateway-eureka
#  cloud:
#    gateway:
#      discovery:
#        locator:
#          enabled: true
#eureka:
#  client:
#    serviceUrl:
#      defaultZone: http://localhost:8000/eureka/
#logging:
#  level:
#    org.springframework.cloud.gateway: debug

#server:
#  port: 8888
#spring:
#  application:
#    name: cloud-gateway-eureka
#  cloud:
#    gateway:
#      discovery:
#        locator:
#          enabled: true
#      routes:
#        - id: add_request_parameter_route
#          uri: http://localhost:9000
#          filters:
#            - AddRequestParameter=foo, bar
#          predicates:
#            - Method=GET
eureka:
  client:
    service-url:
      defaultZone: http://localhost:8000/eureka/
#
## StripPrefix Filter
#server:
#  port: 8888
#spring:
#  application:
#    name: cloud-gateway-eureka
#  cloud:
#    gateway:
#      routes:
#      - id: nameRoot
#        uri: lb://spring-cloud-producer
#        predicates:
#        - Path=/name/**
#        filters:
#        - StripPrefix=2

## Redis 限速路由器
#spring:
#  application:
#    name: cloud-gateway-eureka
#  redis:
#    host: localhost
#    password:
#    port: 6379
#  cloud:
#    gateway:
#      discovery:
#        locator:
#          enabled: true
#      routes:
#      - id: requestratelimiter_route
#        uri: http://example.org
#        filters:
#        - name: RequestRateLimiter
#          args:
#            redis-rate-limiter.replenishRate: 10
#            redis-rate-limiter.burstCapacity: 20
#            key-resolver: "#{@userKeyResolver}"
#        predicates:
#        - Method=GET
#server:
#  port: 8888


# 熔断路由器
spring:
  application:
    name: cloud-gateway-eureka
  cloud:
    gateway:
      routes:
      - id: hystrix_route
        uri: lb://spring-cloud-producer
        predicates:
        - Path=/consumingserviceendpoint
        filters:
        - name: Hystrix
          args:
            name: fallbackcmd
            fallbackUri: forward:/incaseoffailureusethis
server:
  port: 8888